{"version":3,"file":"ignoreMpcrawlerErrors.js","sourceRoot":"","sources":["../../src/integrations/ignoreMpcrawlerErrors.ts"],"names":[],"mappings":";;AAAA,qCAAsE;AAGtE,kDAAgD;AAEhD;;;;GAIG;AACH;IAAA;QACE;;WAEG;QACI,SAAI,GAAW,qBAAqB,CAAC,EAAE,CAAC;IA2BjD,CAAC;IApBC;;OAEG;IACI,yCAAS,GAAhB;QACE,8BAAuB,CAAC,UAAC,KAAY;YACnC,IACE,oBAAa,EAAE,CAAC,cAAc,CAAC,qBAAqB,CAAC;gBACrD,uBAAO,KAAK,QAAQ;gBACpB,mBAAG,CAAC,oBAAoB,EACxB;gBACA,IAAM,OAAO,GAAG,mBAAG,CAAC,oBAAoB,EAAE,CAAC;gBAE3C,IAAI,OAAO,CAAC,KAAK,KAAK,IAAI,EAAE;oBAC1B,OAAO,IAAI,CAAC;iBACb;aACF;YAED,OAAO,KAAK,CAAC;QACf,CAAC,CAAC,CAAC;IACL,CAAC;IAxBD;;OAEG;IACW,wBAAE,GAAW,uBAAuB,CAAC;IAsBrD,4BAAC;CAAA,AA/BD,IA+BC;AA/BY,sDAAqB","sourcesContent":["import { addGlobalEventProcessor, getCurrentHub } from \"@sentry/core\";\nimport { Event, Integration } from \"@sentry/types\";\n\nimport { appName, sdk } from \"../crossPlatform\";\n\n/**\n * IgnoreMpcrawlerErrors\n *\n * https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html\n */\nexport class IgnoreMpcrawlerErrors implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = IgnoreMpcrawlerErrors.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = \"IgnoreMpcrawlerErrors\";\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    addGlobalEventProcessor((event: Event) => {\n      if (\n        getCurrentHub().getIntegration(IgnoreMpcrawlerErrors) &&\n        appName === \"wechat\" &&\n        sdk.getLaunchOptionsSync\n      ) {\n        const options = sdk.getLaunchOptionsSync();\n\n        if (options.scene === 1129) {\n          return null;\n        }\n      }\n\n      return event;\n    });\n  }\n}\n"]}